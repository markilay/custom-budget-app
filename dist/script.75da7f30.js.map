{"version":3,"sources":["script.js"],"names":["monthlyColumns","document","querySelector","incomeMonthly","incomeInput","incomeAmountNumber","moneyLeft","totalExpenses","shoppingList","querySelectorAll","inputsOfItems","forms","columnAmount","priceInputs","FOOD","COFFEE_AND_OUT","TRAVEL","SHOPPING","OTHER","user","income","items","list","columnsTotal","salaryAmount","e","currentTarget","value","textContent","toFixed","localStorage","setItem","JSON","stringify","sumAllColumns","valueOfItemPrice","preventDefault","el","attr","dataset","name","price","getElementById","paragraph","addItemToList","displayTheList","reset","objectOfSum","total","Object","values","reduce","acc","cur","countMoneyLeft","allExpences","attribute","key","keys","filter","push","addToLocalStorage","columns","entries","forEach","valuesList","length","html","map","generateListHTML","join","classList","add","innerHTML","remove","id","deleteItem","deletedValue","newValue","_","i","parseFloat","updateAmount","restoreFromLocalStorage","parse","getItem","sum","curr","form","addEventListener","target","delete","chosenValue"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,cAAc,GAAGC,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAvB;AACA,IAAMC,aAAa,GAAGF,QAAQ,CAACC,aAAT,CAAuB,sBAAvB,CAAtB;AACA,IAAME,WAAW,GAAGH,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAApB;AACA,IAAMG,kBAAkB,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAA3B;AACA,IAAMI,SAAS,GAAGL,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAlB;AACA,IAAMK,aAAa,GAAGN,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAtB;AACA,IAAMM,YAAY,GAAGP,QAAQ,CAACQ,gBAAT,CAA0B,OAA1B,CAArB;AACA,IAAMC,aAAa,GAAGT,QAAQ,CAACQ,gBAAT,CAA0B,yBAA1B,CAAtB;AACA,IAAME,KAAK,GAAGV,QAAQ,CAACQ,gBAAT,CAA0B,MAA1B,CAAd;AAEA,IAAMG,YAAY,GAAGZ,cAAc,CAACS,gBAAf,CAAgC,SAAhC,CAArB;AACA,IAAMI,WAAW,GAAGb,cAAc,CAACS,gBAAf,CAAgC,cAAhC,CAApB;AAEA,IAAMK,IAAI,GAAG,MAAb;AACA,IAAMC,cAAc,GAAG,gBAAvB;AACA,IAAMC,MAAM,GAAG,QAAf;AACA,IAAMC,QAAQ,GAAG,UAAjB;AACA,IAAMC,KAAK,GAAG,OAAd,EAEA;AACA;AACA;AAEA;AACA;AACA;;AAEA,IAAMC,IAAI,GAAG;AACXC,EAAAA,MAAM,EAAE,CADG;AAEXC,EAAAA,KAAK,wCACFP,IADE,EACK;AACNQ,IAAAA,IAAI,EAAE;AADA,GADL,2BAIFP,cAJE,EAIe;AAChBO,IAAAA,IAAI,EAAE;AADU,GAJf,2BAOFN,MAPE,EAOO;AACRM,IAAAA,IAAI,EAAE;AADE,GAPP,2BAUFL,QAVE,EAUS;AACVK,IAAAA,IAAI,EAAE;AADI,GAVT,2BAaFJ,KAbE,EAaM;AACPI,IAAAA,IAAI,EAAE;AADC,GAbN;AAFM,CAAb;AAqBA,IAAIC,YAAY,uDACbT,IADa,EACN,CADM,kCAEbC,cAFa,EAEI,CAFJ,kCAGbC,MAHa,EAGJ,CAHI,kCAIbC,QAJa,EAIF,CAJE,kCAKbC,KALa,EAKL,CALK,iBAAhB;;AAQA,SAASM,YAAT,CAAsBC,CAAtB,EAAyB;AACvBN,EAAAA,IAAI,CAACC,MAAL,IAAe,CAACK,CAAC,CAACC,aAAF,CAAgBC,KAAhC;AAEAtB,EAAAA,kBAAkB,CAACuB,WAAnB,GAAiCT,IAAI,CAACC,MAAL,CAAYS,OAAZ,CAAoB,CAApB,CAAjC;AACAJ,EAAAA,CAAC,CAACC,aAAF,CAAgBC,KAAhB,GAAwB,EAAxB;AAEAG,EAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BC,IAAI,CAACC,SAAL,CAAed,IAAI,CAACC,MAApB,CAA/B;AACAc,EAAAA,aAAa,CAACX,YAAD,CAAb;AACD;;AAED,SAASY,gBAAT,CAA0BV,CAA1B,EAA6B;AAC3BA,EAAAA,CAAC,CAACW,cAAF;AAEA,MAAMC,EAAE,GAAGZ,CAAC,CAACC,aAAF,CAAgBxB,aAAhB,CAA8B,cAA9B,CAAX;AACA,MAAMoC,IAAI,GAAGD,EAAE,CAACE,OAAH,CAAWC,IAAxB;AACA,MAAMC,KAAK,GAAG,CAACJ,EAAE,CAACV,KAAlB;AACA,MAAMa,IAAI,GAAGvC,QAAQ,CAACyC,cAAT,WAA2BJ,IAA3B,GAAmCX,KAAhD;AACA,MAAMgB,SAAS,GAAG1C,QAAQ,CAACC,aAAT,sBAAqCoC,IAArC,OAAlB;;AAEA,MAAIG,KAAK,GAAG,CAAZ,EAAe;AACblB,IAAAA,YAAY,CAACe,IAAD,CAAZ,IAAsBG,KAAtB;AACAE,IAAAA,SAAS,CAACf,WAAV,GAAwBL,YAAY,CAACe,IAAD,CAAZ,CAAmBT,OAAnB,CAA2B,CAA3B,CAAxB;AAEAe,IAAAA,aAAa,CAACH,KAAD,EAAQD,IAAR,EAAcF,IAAd,CAAb;AACAO,IAAAA,cAAc,CAAC1B,IAAI,CAACE,KAAN,CAAd;AACAa,IAAAA,aAAa,CAACX,YAAD,CAAb;AACD;;AACD,OAAKuB,KAAL;AACD;;AAED,SAASZ,aAAT,CAAuBa,WAAvB,EAAoC;AAClC,MAAMC,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAcH,WAAd,EAA2BI,MAA3B,CAAkC,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC5D,WAAOD,GAAG,GAAGC,GAAb;AACD,GAFa,EAEX,CAFW,CAAd;AAIAC,EAAAA,cAAc,CAACnC,IAAI,CAACC,MAAN,EAAc4B,KAAd,CAAd;AACD;;AAED,SAASM,cAAT,CAAwBlC,MAAxB,EAAgCmC,WAAhC,EAA6C;AAC3CjD,EAAAA,SAAS,CAACsB,WAAV,GAAwB,CAACR,MAAM,GAAGmC,WAAV,EAAuB1B,OAAvB,CAA+B,CAA/B,CAAxB;AACAtB,EAAAA,aAAa,CAACqB,WAAd,GAA4B2B,WAAW,CAAC1B,OAAZ,CAAoB,CAApB,CAA5B;AACD;;AAED,SAASe,aAAT,CAAuBH,KAAvB,EAA8BD,IAA9B,EAAoCgB,SAApC,EAA+C;AAC7C,MAAMC,GAAG,GAAGR,MAAM,CAACS,IAAP,CAAYvC,IAAI,CAACE,KAAjB,EAAwBsC,MAAxB,CAA+B,UAACF,GAAD;AAAA,WAASA,GAAG,KAAKD,SAAjB;AAAA,GAA/B,CAAZ;AAEArC,EAAAA,IAAI,CAACE,KAAL,CAAWoC,GAAX,EAAgBnC,IAAhB,CAAqBsC,IAArB,CAA0B;AACxBnB,IAAAA,KAAK,EAALA,KADwB;AAExBD,IAAAA,IAAI,EAAJA;AAFwB,GAA1B;AAIAqB,EAAAA,iBAAiB,CAAC1C,IAAI,CAACE,KAAN,CAAjB;AACD;;AAED,SAASwB,cAAT,CAAwBiB,OAAxB,EAAiC;AAC/Bb,EAAAA,MAAM,CAACc,OAAP,CAAeD,OAAf,EAAwBE,OAAxB,CAAgC,gBAAiC;AAAA;AAAA,QAA/BP,GAA+B;AAAA,QAAlBQ,UAAkB,YAAxB3C,IAAwB;;AAC/D,QAAMA,IAAI,GAAGrB,QAAQ,CAACC,aAAT,wBAAuCuD,GAAvC,OAAb;;AAEA,QAAIQ,UAAU,CAACC,MAAf,EAAuB;AACrB,UAAMC,IAAI,GAAGF,UAAU,CAACG,GAAX,CAAeC,gBAAf,EAAiCC,IAAjC,CAAsC,EAAtC,CAAb;AAEAhD,MAAAA,IAAI,CAACiD,SAAL,CAAeC,GAAf,CAAmB,MAAnB;AACAlD,MAAAA,IAAI,CAACmD,SAAL,GAAiBN,IAAjB;AACD,KALD,MAKO;AACL7C,MAAAA,IAAI,CAACiD,SAAL,CAAeG,MAAf,CAAsB,MAAtB;AACApD,MAAAA,IAAI,CAACmD,SAAL;AACD;AACF,GAZD;AAaD;;AAED,SAASJ,gBAAT,QAA2CM,EAA3C,EAA+C;AAAA,MAAnBnC,IAAmB,SAAnBA,IAAmB;AAAA,MAAbC,KAAa,SAAbA,KAAa;AAC7C,wFAE2BkC,EAF3B,2BAE6ClC,KAF7C,qDAGcD,IAHd,oCAIcC,KAJd;AAOD;;AAED,SAASmC,UAAT,CAAoBC,YAApB,EAAkCF,EAAlC,EAAsCrD,IAAtC,EAA4C;AAC1C,MAAMmC,GAAG,GAAGR,MAAM,CAACS,IAAP,CAAYvC,IAAI,CAACE,KAAjB,EAAwBsC,MAAxB,CAA+B,UAACF,GAAD;AAAA,WAASA,GAAG,KAAKnC,IAAI,CAACiB,OAAL,CAAaC,IAA9B;AAAA,GAA/B,CAAZ;AAEA,MAAMsC,QAAQ,GAAG3D,IAAI,CAACE,KAAL,CAAWoC,GAAX,EAAgBnC,IAAhB,CAAqBqC,MAArB,CAA4B,UAACoB,CAAD,EAAIC,CAAJ;AAAA,WAAUA,CAAC,KAAKC,UAAU,CAACN,EAAD,CAA1B;AAAA,GAA5B,CAAjB;AACAxD,EAAAA,IAAI,CAACE,KAAL,CAAWoC,GAAX,EAAgBnC,IAAhB,GAAuBwD,QAAvB;AAEAI,EAAAA,YAAY,CAAC5D,IAAD,EAAOuD,YAAP,CAAZ;AACAhC,EAAAA,cAAc,CAAC1B,IAAI,CAACE,KAAN,CAAd;AACAwC,EAAAA,iBAAiB,CAAC1C,IAAI,CAACE,KAAN,CAAjB;AACD;;AAED,SAAS6D,YAAT,CAAsB5D,IAAtB,EAA4BuD,YAA5B,EAA0C;AAAA,MAChCrC,IADgC,GACvBlB,IAAI,CAACiB,OADkB,CAChCC,IADgC;AAExC,MAAMG,SAAS,GAAG1C,QAAQ,CAACC,aAAT,sBAAqCsC,IAArC,EAAlB;AAEAjB,EAAAA,YAAY,CAACiB,IAAD,CAAZ,IAAsBqC,YAAtB;AACAlC,EAAAA,SAAS,CAACf,WAAV,GAAwBL,YAAY,CAACiB,IAAD,CAAZ,CAAmBX,OAAnB,CAA2B,CAA3B,CAAxB;AAEAK,EAAAA,aAAa,CAACX,YAAD,CAAb;AACD;;AAED,SAASsC,iBAAT,CAA2BC,OAA3B,EAAoC;AAClCb,EAAAA,MAAM,CAACc,OAAP,CAAeD,OAAf,EAAwBE,OAAxB,CAAgC;AAAA;AAAA,QAAEP,GAAF;;AAAA,WAC9B3B,YAAY,CAACC,OAAb,oBAAiC0B,GAAjC,GAAwCzB,IAAI,CAACC,SAAL,CAAe6B,OAAO,CAACL,GAAD,CAAP,CAAanC,IAA5B,CAAxC,CAD8B;AAAA,GAAhC;AAGD;;AAED,SAAS6D,uBAAT,CAAiCrB,OAAjC,EAA0C;AACxCb,EAAAA,MAAM,CAACc,OAAP,CAAeD,OAAf,EAAwBE,OAAxB,CAAgC,iBAAmB;AAAA;AAAA,QAAjBP,GAAiB;AAAA,QAAZP,MAAY;;AACjD,QAAIO,GAAJ,EAAS;AAAA;;AACP,UAAMpC,KAAK,GAAGW,IAAI,CAACoD,KAAL,CAAWtD,YAAY,CAACuD,OAAb,oBAAiC5B,GAAjC,EAAX,KAAuD,EAArE;;AAEA,2BAAAK,OAAO,CAACL,GAAD,CAAP,CAAanC,IAAb,EAAkBsC,IAAlB,6CAA0BvC,KAA1B;;AACAwB,MAAAA,cAAc,CAACiB,OAAD,CAAd;AACD;;AAED,QAAMnB,SAAS,GAAG1C,QAAQ,CAACC,aAAT,sBAAqCuD,GAArC,OAAlB;AACA,QAAM6B,GAAG,GAAGpC,MAAM,CAAC5B,IAAP,CAAY6B,MAAZ,CAAmB,UAACC,GAAD,EAAMmC,IAAN;AAAA,aAAenC,GAAG,GAAGmC,IAAI,CAAC9C,KAA1B;AAAA,KAAnB,EAAoD,CAApD,CAAZ;AAEAlB,IAAAA,YAAY,CAACkC,GAAD,CAAZ,IAAqB6B,GAArB;AACA3C,IAAAA,SAAS,CAACf,WAAV,GAAwBL,YAAY,CAACkC,GAAD,CAAZ,CAAkB5B,OAAlB,CAA0B,CAA1B,CAAxB;AACD,GAbD;AAeAV,EAAAA,IAAI,CAACC,MAAL,GAAcY,IAAI,CAACoD,KAAL,CAAWtD,YAAY,CAACuD,OAAb,CAAqB,QAArB,CAAX,KAA8C,CAA5D;AACAhF,EAAAA,kBAAkB,CAACuB,WAAnB,GAAiCT,IAAI,CAACC,MAAL,CAAYS,OAAZ,CAAoB,CAApB,CAAjC;AAEAK,EAAAA,aAAa,CAACX,YAAD,CAAb;AACD;;AAEDZ,KAAK,CAACqD,OAAN,CAAc,UAACwB,IAAD;AAAA,SAAUA,IAAI,CAACC,gBAAL,CAAsB,QAAtB,EAAgCtD,gBAAhC,CAAV;AAAA,CAAd;AAEA/B,WAAW,CAACqF,gBAAZ,CAA6B,QAA7B,EAAuCjE,YAAvC;AAEAhB,YAAY,CAACwD,OAAb,CAAqB,UAAC1C,IAAD,EAAU;AAC7BA,EAAAA,IAAI,CAACmE,gBAAL,CAAsB,OAAtB,EAA+B,UAAChE,CAAD,EAAO;AACpC,QAAMkD,EAAE,GAAGlD,CAAC,CAACiE,MAAF,CAASnD,OAAT,CAAiBoD,MAA5B;AACA,QAAMC,WAAW,GAAGX,UAAU,CAACxD,CAAC,CAACiE,MAAF,CAASnD,OAAT,CAAiBZ,KAAlB,CAA9B;;AACA,QAAIgD,EAAJ,EAAQ;AACNC,MAAAA,UAAU,CAACgB,WAAD,EAAcjB,EAAd,EAAkBrD,IAAlB,CAAV;AACD;AACF,GAND;AAOD,CARD;AAUA6D,uBAAuB,CAAChE,IAAI,CAACE,KAAN,CAAvB;AACAwB,cAAc,CAAC1B,IAAI,CAACE,KAAN,CAAd","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["const monthlyColumns = document.querySelector('.monthlyColumns')\nconst incomeMonthly = document.querySelector('.grid-header__one h3')\nconst incomeInput = document.querySelector('[name=\"income\"]')\nconst incomeAmountNumber = document.querySelector('.income')\nconst moneyLeft = document.querySelector('.money-left')\nconst totalExpenses = document.querySelector('.total-expenses')\nconst shoppingList = document.querySelectorAll('.list')\nconst inputsOfItems = document.querySelectorAll(\"input[data-item='item']\")\nconst forms = document.querySelectorAll('form')\n\nconst columnAmount = monthlyColumns.querySelectorAll('.amount')\nconst priceInputs = monthlyColumns.querySelectorAll(\"[name='sum']\")\n\nconst FOOD = 'food'\nconst COFFEE_AND_OUT = 'coffee_and_out'\nconst TRAVEL = 'travel'\nconst SHOPPING = 'shopping'\nconst OTHER = 'other'\n\n// const MONTHS = {\n//   may: {},\n// }\n\n// save('may', user) {\n//     MONTHS['may'] = user\n// }\n\nconst user = {\n  income: 0,\n  items: {\n    [FOOD]: {\n      list: [],\n    },\n    [COFFEE_AND_OUT]: {\n      list: [],\n    },\n    [TRAVEL]: {\n      list: [],\n    },\n    [SHOPPING]: {\n      list: [],\n    },\n    [OTHER]: {\n      list: [],\n    },\n  },\n}\n\nlet columnsTotal = {\n  [FOOD]: 0,\n  [COFFEE_AND_OUT]: 0,\n  [TRAVEL]: 0,\n  [SHOPPING]: 0,\n  [OTHER]: 0,\n}\n\nfunction salaryAmount(e) {\n  user.income += +e.currentTarget.value\n\n  incomeAmountNumber.textContent = user.income.toFixed(2)\n  e.currentTarget.value = ''\n\n  localStorage.setItem('Income', JSON.stringify(user.income))\n  sumAllColumns(columnsTotal)\n}\n\nfunction valueOfItemPrice(e) {\n  e.preventDefault()\n\n  const el = e.currentTarget.querySelector('[name=\"sum\"]')\n  const attr = el.dataset.name\n  const price = +el.value\n  const name = document.getElementById(`${attr}`).value\n  const paragraph = document.querySelector(`[data-name=${attr}]`)\n\n  if (price > 0) {\n    columnsTotal[attr] += price\n    paragraph.textContent = columnsTotal[attr].toFixed(2)\n\n    addItemToList(price, name, attr)\n    displayTheList(user.items)\n    sumAllColumns(columnsTotal)\n  }\n  this.reset()\n}\n\nfunction sumAllColumns(objectOfSum) {\n  const total = Object.values(objectOfSum).reduce((acc, cur) => {\n    return acc + cur\n  }, 0)\n\n  countMoneyLeft(user.income, total)\n}\n\nfunction countMoneyLeft(income, allExpences) {\n  moneyLeft.textContent = (income - allExpences).toFixed(2)\n  totalExpenses.textContent = allExpences.toFixed(2)\n}\n\nfunction addItemToList(price, name, attribute) {\n  const key = Object.keys(user.items).filter((key) => key === attribute)\n\n  user.items[key].list.push({\n    price,\n    name,\n  })\n  addToLocalStorage(user.items)\n}\n\nfunction displayTheList(columns) {\n  Object.entries(columns).forEach(([key, { list: valuesList }]) => {\n    const list = document.querySelector(`ul[data-name=${key}]`)\n\n    if (valuesList.length) {\n      const html = valuesList.map(generateListHTML).join('')\n\n      list.classList.add('open')\n      list.innerHTML = html\n    } else {\n      list.classList.remove('open')\n      list.innerHTML = ``\n    }\n  })\n}\n\nfunction generateListHTML({ name, price }, id) {\n  return `\n    <li class=\"item shopping-item\">\n        <span data-delete=\"${id}\" data-value=${price} class='delete'>x</span>\n        <span>${name}</span>\n        <span>${price}</span>\n    </li>  \n    `\n}\n\nfunction deleteItem(deletedValue, id, list) {\n  const key = Object.keys(user.items).filter((key) => key === list.dataset.name)\n\n  const newValue = user.items[key].list.filter((_, i) => i !== parseFloat(id))\n  user.items[key].list = newValue\n\n  updateAmount(list, deletedValue)\n  displayTheList(user.items)\n  addToLocalStorage(user.items)\n}\n\nfunction updateAmount(list, deletedValue) {\n  const { name } = list.dataset\n  const paragraph = document.querySelector(`[data-name=${name}`)\n\n  columnsTotal[name] -= deletedValue\n  paragraph.textContent = columnsTotal[name].toFixed(2)\n\n  sumAllColumns(columnsTotal)\n}\n\nfunction addToLocalStorage(columns) {\n  Object.entries(columns).forEach(([key]) =>\n    localStorage.setItem(`column - ${key}`, JSON.stringify(columns[key].list))\n  )\n}\n\nfunction restoreFromLocalStorage(columns) {\n  Object.entries(columns).forEach(([key, values]) => {\n    if (key) {\n      const items = JSON.parse(localStorage.getItem(`column - ${key}`)) || []\n\n      columns[key].list.push(...items)\n      displayTheList(columns)\n    }\n\n    const paragraph = document.querySelector(`[data-name=${key}]`)\n    const sum = values.list.reduce((acc, curr) => acc + curr.price, 0)\n\n    columnsTotal[key] += sum\n    paragraph.textContent = columnsTotal[key].toFixed(2)\n  })\n\n  user.income = JSON.parse(localStorage.getItem('Income')) || 0\n  incomeAmountNumber.textContent = user.income.toFixed(2)\n\n  sumAllColumns(columnsTotal)\n}\n\nforms.forEach((form) => form.addEventListener('submit', valueOfItemPrice))\n\nincomeInput.addEventListener('change', salaryAmount)\n\nshoppingList.forEach((list) => {\n  list.addEventListener('click', (e) => {\n    const id = e.target.dataset.delete\n    const chosenValue = parseFloat(e.target.dataset.value)\n    if (id) {\n      deleteItem(chosenValue, id, list)\n    }\n  })\n})\n\nrestoreFromLocalStorage(user.items)\ndisplayTheList(user.items)\n"]}